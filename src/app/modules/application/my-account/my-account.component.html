<div class="container rounded mt-5 mb-5">
  <div class="row">
    <div class="col-md-5 border-right" id="user-info">
      <div class="p-3 py-5">
        <div class="d-flex justify-content-between align-items-center mb-3">
          <h1 class="text-right">Profile Settings</h1>
          <h3 class="points">
            <h5>Points:&nbsp;</h5>
            <h4>{{ form.controls.usablePoints.value }}</h4>
          </h3>
        </div>

        <form [formGroup]="form">
          <div class="row mt-2">
            <div class="col-md-12">
              <label class="labels">First Name</label
              ><input
                type="text"
                class="form-control"
                placeholder="First Name"
                formControlName="firstName"
                required
              />
            </div>
            <div class="col-md-12">
              <label class="labels">Last Name</label
              ><input
                type="text"
                class="form-control"
                placeholder="Last Name"
                formControlName="lastName"
                required
              />
            </div>
            <div class="col-md-12">
              <label class="labels">Email</label
              ><input
                type="text"
                class="form-control"
                placeholder="Email"
                formControlName="email"
                required
              />
            </div>
          </div>
        </form>
        <div class="mt-5 text-center" id="buttons">
          <button class="btn btn-primary reset-button" type="button">
            Reset Password
          </button>
          <button
            class="btn btn-primary profile-button"
            type="button"
            *ngIf="form.dirty && !form.invalid"
            (click)="save()"
          >
            Save Changes
          </button>
          <button class="btn btn-primary delete-button"
           type="button"
           (click)="openDeletePopUp(modal_content)"
           >
            Delete Account  
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #modal_content let-modal>
  <div class="modal-header-popup">
    <h5 class="modal-title-popup" id="confirmModalLabel">
      Delete Account
    </h5>
  </div>
  <div class="modal-body-popup">
    <h5 class="modal-text-popup">
      Are you sure you want to delete your account?
    </h5>
  </div>
  <div class="modal-footer-popup">
    <button 
      type="button"
      class="btn btn-secondary btn-lg mr-2 rounded-lg"
      (click)="modal.dismiss()"
      > 
      Cancel
    </button>
    <button 
      type="button"
      class="btn btn-danger btn-lg rounded-lg"
      (click)="delete()"
      >
      Delete
    </button>
  </div>
</ng-template>