<div class="container rounded mt-5 mb-5">
    <div class="row">
        <div class="col-md-5 border-right" id="user-info">
            <div class="p-3 py-5">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h1 class="text-right">Profile Settings</h1>
                    <h3 class="points">
                        <h5>Points:&nbsp;</h5>
                        <h4>{{ form.controls.usablePoints.value }}</h4>
                    </h3>
                </div>

                <form [formGroup]="form">
                    <div class="row mt-2">
                        <div class="col-md-12">
                            <label class="labels">First Name</label><input type="text" class="form-control" placeholder="First Name" formControlName="firstName" required />
                        </div>
                        <div class="col-md-12">
                            <label class="labels">Last Name</label><input type="text" class="form-control" placeholder="Last Name" formControlName="lastName" required />
                        </div>
                        <div class="col-md-12">
                            <label class="labels">Email</label><input type="text" class="form-control" placeholder="Email" formControlName="email" required />
                        </div>
                    </div>
                </form>
                <div class="mt-5 text-center" id="buttons">
                    <button class="btn btn-primary reset-button" type="button" (click)="open(content)">
            Reset Password
          </button>
                    <button class="btn btn-primary profile-button" type="button" *ngIf="form.dirty && !form.invalid" (click)="save()">
            Save Changes
          </button>
                    <button class="btn btn-primary delete-button" type="button" (click)="openDeletePopUp(modal_content)">
            Delete Account
          </button>
                </div>
            </div>
        </div>
    </div>
</div>

<ng-template #content let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Reset Password</h4>
        <button type="button" class="btn btn-primary delete-button" aria-label="Close" (click)="modal.dismiss()">
      <span aria-hidden="true">&times;</span>
    </button>
    </div>
    <form [formGroup]="resetPassForm" (ngSubmit)="submit()">
        <div class="modal-body">
            <div class="m-4 form-group justify-content-center">

                <div class="col-md-12">
                    <label class="labels">Password</label>
                    <input type="password" class="form-control" name="password" formControlName="password" aria-describedby="password" required />
                </div>

                <div class="col-md-12">
                    <label class="labels">Confirm Password</label>
                    <input type="password" class="form-control" name="repeatPassword" formControlName="repeatPassword" aria-describedby="repeatPassword" required />
                </div>

                <div class="col-md-12 error-message" *ngIf="resetPassForm.dirty && resetPassForm.valid == false">
                    Fields are not valid!
                </div>

                <div class="modal-footer">
                    <button type="submit" class="btn btn-primary reset-button" (click)="modal.close('Save click')" [disabled]="resetPassForm.invalid || resetPassForm.pristine">
            Save
          </button>
                </div>
            </div>
        </div>
    </form>
    <ng-template #modal_content let-modal>
        <div class="modal-header-popup">
            <h5 class="modal-title-popup" id="confirmModalLabel">
                Delete Account
            </h5>
        </div>
        <div class="modal-body-popup">
            <h5 class="modal-text-popup">
                Are you sure you want to delete your account?
            </h5>
        </div>
        <div class="modal-footer-popup">
            <button type="button" class="btn btn-secondary btn-lg mr-2 rounded-lg" (click)="modal.dismiss()">
      Cancel
    </button>
            <button type="button" class="btn btn-danger btn-lg rounded-lg" (click)="delete()">
      Delete
    </button>
        </div>
    </ng-template>
